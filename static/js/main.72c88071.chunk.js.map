{"version":3,"sources":["hooks/app-state/reducer.ts","components/head/index.tsx","components/hlist/index.tsx","components/descs/index.tsx","components/links/index.tsx","components/splash/index.tsx","components/hero/index.tsx","components/colophon/index.tsx","components/app/index.tsx","hooks/app-state/index.ts","service-worker.ts","index.tsx"],"names":["ActionType","titles","descriptors","state","window","__STATE__","initialState","meta","author","handle","currentTitle","sample","currentDescriptor","getFresh","current","pool","fresh","reducer","action","type","Change","snapSaveState","location","pathname","origin","href","URL","homepage","getImagePath","network","replace","Head","title","descs","concat","longDescription","join","shortDescription","temp","length","pop","getShortDescription","imageAlt","endsWith","Helmet","name","content","rel","property","Hlist","children","className","Children","map","child","i","key","Descs","links","props","Icon","FaGithub","FaTwitter","FaLinkedinIn","process","download","FaFilePdf","Links","Splash","useState","AsyncComponent","setAsyncComponent","useEffect","navigator","userAgent","then","Boxes","default","Hero","Object","entries","engines","dependencies","devDependencies","value","text","Colophon","substring","version","bugs","url","Date","getFullYear","license","split","lic","App","useReducer","dispatch","timeoutId","setTimeout","clearTimeout","useAppState","Boolean","hostname","match","rootEl","document","getElementById","hasChildNodes","hydrate","render","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.72c88071.chunk.js","sourcesContent":["import { sample } from 'lodash';\n\nconst meta = {\n  author: 'Matt Hayes',\n  handle: '@mysterycommand',\n};\n\nconst titles = [\n  'computer programmer',\n  'creative technologist',\n  'game maker',\n  'software engineer',\n  'solutions architect',\n  'web developer',\n];\n\nconst descriptors = [\n  'analyst',\n  'dabbler',\n  'dilettante',\n  'generalist',\n  'philosopher',\n  'tinkerer',\n];\n\ntype State = {\n  meta: {\n    author: string;\n    handle: string;\n  };\n  titles: string[];\n  currentTitle: string;\n  descriptors: string[];\n  currentDescriptor: string;\n};\n\nexport enum ActionType {\n  Change,\n}\n\ntype Action = {\n  type: ActionType;\n};\n\n// @ts-ignore: 2339\nconst state = window.__STATE__ as State;\n// @ts-ignore: 2339\ndelete window.__STATE__;\n\nexport const initialState: State = state || {\n  meta,\n  titles,\n  currentTitle: sample(titles)!, // 'computer programmer', //\n  descriptors,\n  currentDescriptor: sample(descriptors)!, // 'philosopher', //\n};\n\n// @ts-ignore: 2339\nwindow.snapSaveState = () => ({ __STATE__: initialState });\n\nfunction getFresh(current: string, pool: string[]): string {\n  let fresh = sample(pool)!;\n\n  while (fresh === current) {\n    fresh = sample(pool)!;\n  }\n\n  return fresh;\n}\n\nexport function reducer(state: State, action: Action): State {\n  switch (action.type) {\n    case ActionType.Change:\n      return {\n        ...state,\n        currentTitle: getFresh(state.currentTitle, titles),\n        currentDescriptor: getFresh(state.currentDescriptor, descriptors),\n      };\n    default:\n      return state;\n  }\n}\n","import React, { FC } from 'react';\nimport { Helmet } from 'react-helmet';\n\nimport { homepage } from '../../../package.json';\n\nconst FACEBOOK_ID = '163000679';\n\nfunction getShortDescription(descs: string[]): string {\n  let temp = descs;\n  let shortDescription;\n\n  while ((shortDescription = temp.concat('etc…').join(', ')).length > 200) {\n    temp.pop();\n  }\n\n  return shortDescription;\n}\n\nconst { pathname, href } = window.location;\nconst { origin } = new URL(\n  process.env.NODE_ENV === 'production' ? homepage : href,\n);\nfunction getImagePath(network: string): string {\n  return `${origin}/screenshots/${network}/${\n    pathname === '/' ? 'index.png' : pathname.replace('html', 'png')\n  }`;\n}\n\nconst Head: FC<{\n  author: string;\n  handle: string;\n  titles: string[];\n  descriptors: string[];\n}> = ({ author, handle, titles, descriptors }) => {\n  const title = `${author} is ${handle}`;\n\n  const descs = ['artist'].concat(titles, descriptors);\n  const longDescription = descs.join(', ');\n  const shortDescription = getShortDescription(descs);\n\n  const imageAlt = `a screenshot of ${author}'${\n    author.endsWith('s') ? '' : 's'\n  } website`;\n\n  return (\n    <>\n      <Helmet>\n        <title>{title}</title>\n        <meta name=\"author\" content={author} />\n        <meta name=\"description\" content={longDescription} />\n        <link rel=\"canonical\" href={homepage} />\n\n        {/* SharedMeta */}\n        <meta property=\"og:url\" content={homepage} />\n        <meta property=\"og:title\" content={title} />\n        <meta property=\"og:description\" content={shortDescription} />\n\n        {/* FacebookMeta */}\n        <meta property=\"fb:admins\" content={FACEBOOK_ID} />\n        <meta property=\"og:type\" content=\"website\" />\n        <meta property=\"og:site_name\" content={title} />\n        <meta property=\"og:image\" content={getImagePath('facebook')} />\n        <meta property=\"og:image:alt\" content={imageAlt} />\n        <meta property=\"og:locale\" content=\"en_US\" />\n\n        {/* TwitterMeta */}\n        <meta name=\"twitter:card\" content=\"summary_large_image\" />\n        <meta name=\"twitter:site\" content={handle} />\n        <meta name=\"twitter:creator\" content={handle} />\n        <meta name=\"twitter:image\" content={getImagePath('twitter')} />\n        <meta name=\"twitter:image:alt\" content={imageAlt} />\n      </Helmet>\n    </>\n  );\n};\n\nexport default Head;\n","import React, { Children, FC, HTMLAttributes } from 'react';\n\nimport './style.css';\n\nconst Hlist: FC<HTMLAttributes<HTMLUListElement>> = ({\n  children,\n  className,\n}) => (\n  <ul className={['hlist', className].join(' ')}>\n    {Children.map(children, (child, i) => (\n      <li key={i}>{child}</li>\n    ))}\n  </ul>\n);\n\nexport default Hlist;\n","import React, { FC } from 'react';\n\nimport './style.css';\n\nimport Hlist from '../hlist';\n\nconst Descs: FC<{\n  currentTitle: string;\n  currentDescriptor: string;\n}> = ({ currentTitle, currentDescriptor }) => {\n  return (\n    <Hlist className=\"descs\">\n      artist\n      {currentTitle}\n      {currentDescriptor}\n    </Hlist>\n  );\n};\n\nexport default Descs;\n","import React, { FC, AnchorHTMLAttributes } from 'react';\nimport { FaGithub, FaTwitter, FaLinkedinIn, FaFilePdf } from 'react-icons/fa';\nimport { IconType } from 'react-icons/lib/esm';\n\nimport Hlist from '../hlist';\n\nconst links: {\n  props: AnchorHTMLAttributes<HTMLAnchorElement>;\n  Icon: IconType;\n}[] = [\n  {\n    props: {\n      href: 'https://github.com/mysterycommand/',\n      title: 'GitHub',\n      rel: 'external',\n    },\n    Icon: FaGithub,\n  },\n  {\n    props: {\n      href: 'https://twitter.com/mysterycommand/',\n      title: 'Twitter',\n      rel: 'external',\n    },\n    Icon: FaTwitter,\n  },\n  {\n    props: {\n      href: 'https://www.linkedin.com/in/mysterycommand/',\n      title: 'Linkedin',\n      rel: 'external',\n    },\n    Icon: FaLinkedinIn,\n  },\n  {\n    props: {\n      href: `${process.env.PUBLIC_URL}/resume.pdf`,\n      title: 'My resume (PDF)',\n      download: 'Matt-Hayes-Resume.pdf',\n      type: 'application/pdf',\n      rel: 'author',\n    },\n    Icon: FaFilePdf,\n  },\n];\n\nconst Links: FC = () => (\n  <Hlist>\n    {links.map(({ props, Icon }) => {\n      const { title, href } = props;\n      return (\n        <a key={`${title}: ${href}`} {...props}>\n          <Icon />\n        </a>\n      );\n    })}\n  </Hlist>\n);\n\nexport default Links;\n","import React, { FC, useState, useEffect } from 'react';\n\nimport './style.css';\n\nconst Splash: FC = () => {\n  const [AsyncComponent, setAsyncComponent] = useState();\n\n  useEffect(() => {\n    if (\n      process.env.NODE_ENV === 'production' &&\n      navigator.userAgent === 'ReactSnap'\n    ) {\n      return;\n    }\n\n    import('./boxes').then(({ default: Boxes }) => {\n      setAsyncComponent(Boxes);\n    });\n  }, []);\n\n  return <div className=\"splash\">{AsyncComponent}</div>;\n};\n\nexport default Splash;\n","import React, { FC } from 'react';\n\nimport './style.css';\n\nimport Descs from '../descs';\nimport Links from '../links';\nimport Splash from '../splash';\n\nconst Hero: FC<{\n  author: string;\n  handle: string;\n  currentTitle: string;\n  currentDescriptor: string;\n}> = ({ author, handle, currentTitle, currentDescriptor }) => (\n  <header className=\"hero\">\n    <Splash />\n    <div className=\"hero-text\">\n      <h1>{author} is</h1>\n      <h1>\n        <a href={process.env.PUBLIC_URL}>{handle}</a>\n      </h1>\n      <Descs\n        currentTitle={currentTitle}\n        currentDescriptor={currentDescriptor}\n      />\n      <Links />\n    </div>\n  </header>\n);\n\nexport default Hero;\n","import React, { FC, AnchorHTMLAttributes } from 'react';\n\nimport './style.css';\n\nimport {\n  name,\n  version,\n  bugs,\n  license,\n  engines,\n  dependencies,\n  devDependencies,\n} from '../../../package.json';\nimport Hlist from '../hlist';\n\nconst links: {\n  props: AnchorHTMLAttributes<HTMLAnchorElement>;\n  text: string;\n}[] = Object.entries({\n  ...engines,\n  ...dependencies,\n  ...devDependencies,\n}).map(([key, value]) => ({\n  props: {\n    href:\n      key === 'node'\n        ? `https://nodejs.org/en/`\n        : `https://www.npmjs.com/package/${key}`,\n    title: `${key}@${value}`,\n    rel: 'external',\n  },\n  text: key,\n}));\n\nconst Colophon: FC<{ author: string; handle: string }> = ({\n  author,\n  handle,\n}) => (\n  <footer className=\"colophon\">\n    <h2>colophon</h2>\n    <p>\n      this site has been lovingly crafted by{' '}\n      <a href={`https://github.com/${handle.substring(1)}`}>{author}</a> (\n      <a href={`https://twitter.com/${handle.substring(1)}`}>{handle}</a>) you\n      may{' '}\n      <a\n        href={`https://github.com/mysterycommand/${name}/tree/v${version}`}\n        title={`mysterycommand/${name}@${version}`}\n        rel=\"external\"\n      >\n        view the source\n      </a>{' '}\n      at your leisure, and if you see a bug or a typo please be so kind as to{' '}\n      <a href={bugs.url} title=\"see a bug? create an issue!\" rel=\"external\">\n        create an issue\n      </a>{' '}\n      … and thanks for visiting\n    </p>\n    <div>\n      this project would not be possible without the work of these fine open\n      source projects:{' '}\n      <Hlist>\n        {links.map(({ props, text }) => (\n          <a key={props.title} {...props}>\n            {text}\n          </a>\n        ))}\n      </Hlist>\n    </div>\n    <div>\n      copyright © {new Date().getFullYear()} {author}, licensed:{' '}\n      <Hlist className=\"licenses\">\n        {license\n          .substring(1, license.length - 1)\n          .split(' OR ')\n          .map(lic => (\n            <a\n              key={lic}\n              href={`https://github.com/mysterycommand/${name}/blob/v${version}/LICENSE-${lic}`}\n              title={lic}\n              rel=\"external\"\n            >\n              {lic}\n            </a>\n          ))}\n      </Hlist>\n    </div>\n  </footer>\n);\n\nexport default Colophon;\n","import React, { FC } from 'react';\n\nimport useAppState from '../../hooks/app-state';\nimport Head from '../head';\nimport Hero from '../hero';\nimport Colophon from '../colophon';\n\nconst App: FC = () => {\n  const {\n    meta: { author, handle },\n    titles,\n    currentTitle,\n    descriptors,\n    currentDescriptor,\n  } = useAppState();\n\n  return (\n    <>\n      <Head\n        author={author}\n        handle={handle}\n        titles={titles}\n        descriptors={descriptors}\n      />\n      <Hero\n        author={author}\n        handle={handle}\n        currentTitle={currentTitle}\n        currentDescriptor={currentDescriptor}\n      />\n      {/* <section>content</section> */}\n      <Colophon author={author} handle={handle} />\n    </>\n  );\n};\n\nexport default App;\n","import { useEffect, useReducer } from 'react';\n\nimport { initialState, reducer, ActionType } from './reducer';\n\nexport default function useAppState() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const { currentTitle, currentDescriptor } = state;\n\n  useEffect(() => {\n    const timeoutId = setTimeout(() => {\n      dispatch({ type: ActionType.Change });\n    }, 2500);\n\n    return () => {\n      clearTimeout(timeoutId);\n    };\n  }, [currentTitle, currentDescriptor]);\n\n  return state;\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href,\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport { hydrate, render } from 'react-dom';\n\nimport './style.css';\nimport App from './components/app';\nimport * as sw from './service-worker';\n\nconst rootEl = document.getElementById('root');\n(rootEl && rootEl.hasChildNodes() ? hydrate : render)(<App />, rootEl);\n\nsw.unregister();\n"],"sourceRoot":""}